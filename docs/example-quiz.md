# NOMA Resource Navigation Quiz - Complete Decision Tree

## 🎯 Quiz Structure Overview

This guided experience uses empathetic, non-clinical language to help visitors find relevant resources without feeling judged or overwhelmed.

---

## 📋 Full Decision Tree Structure

### **Q1: Starting Point**
**"Let's help you find the right resources. Who are you looking to support?"**

- **A)** Myself
- **B)** Someone I care about
- **C)** I'm a professional seeking resources
- **D)** I'm just learning about addiction

---

## 🌿 **PATH A: Supporting Myself**

### **A-Q2: Your Current Situation**
**"Thank you for reaching out. Where are you in your journey?"**

- **A2.1)** I'm in crisis and need immediate help
  - Tags: `audience: self`, `stage: crisis`, `need: immediate`
  - → Skip to Crisis Resources + Hotline

- **A2.2)** I'm considering making a change
  - → Continue to A-Q3a

- **A2.3)** I'm in recovery and looking for support
  - → Continue to A-Q3b

- **A2.4)** I'm not sure where I am right now
  - → Continue to A-Q3c

---

### **A-Q3a: Considering Change Branch**
**"What feels like the right next step for you?"**

- **A3a.1)** I want to understand my options
  - Tags: `audience: self`, `stage: exploration`, `need: education`
  - → Continue to A-Q4a

- **A3a.2)** I'm ready to talk to someone
  - Tags: `audience: self`, `stage: pre-contemplation`, `need: counseling`
  - → Continue to A-Q4b

- **A3a.3)** I need medical help to stop safely
  - Tags: `audience: self`, `stage: active_use`, `need: medical_detox`
  - → Medical Resources + Safety Info

---

### **A-Q3b: In Recovery Branch**
**"That's wonderful. What kind of support would help you most?"**

- **A3b.1)** Connection with others in recovery
  - Tags: `audience: self`, `stage: recovery`, `need: peer_support`
  - → Continue to A-Q4c

- **A3b.2)** Professional counseling or therapy
  - Tags: `audience: self`, `stage: recovery`, `need: mental_health`
  - → Mental Health Resources

- **A3b.3)** Practical life support (housing, job, etc.)
  - Tags: `audience: self`, `stage: recovery`, `need: life_skills`
  - → Recovery Life Resources

- **A3b.4)** Family healing and relationships
  - Tags: `audience: self`, `stage: recovery`, `need: family_support`
  - → Family Program Resources

---

### **A-Q3c: Unsure Branch**
**"That's okay. Sometimes it helps to start with one small step. What sounds most helpful?"**

- **A3c.1)** Someone to talk to who understands
  - Tags: `audience: self`, `stage: questioning`, `need: peer_support`
  - → Peer Support + Helpline

- **A3c.2)** Learn more about addiction and recovery
  - Tags: `audience: self`, `stage: questioning`, `need: education`
  - → Educational Resources

- **A3c.3)** A private assessment or screening
  - Tags: `audience: self`, `stage: questioning`, `need: assessment`
  - → Self-Assessment Tools

---

### **A-Q4a: Understanding Options**
**"What type of support are you most interested in?"**

- **A4a.1)** Outpatient (live at home, attend sessions)
  - Tags: `audience: self`, `stage: exploration`, `need: outpatient`
  - → IOP/OP Programs

- **A4a.2)** Residential (live-in treatment)
  - Tags: `audience: self`, `stage: exploration`, `need: residential`
  - → Residential Programs

- **A4a.3)** Support groups only
  - Tags: `audience: self`, `stage: exploration`, `need: groups`
  - → Meeting Finder

- **A4a.4)** Online/virtual options
  - Tags: `audience: self`, `stage: exploration`, `need: virtual`
  - → Virtual Resources

---

### **A-Q4b: Ready to Talk**
**"Would you prefer to connect with:"**

- **A4b.1)** A professional counselor
  - Tags: `audience: self`, `stage: ready`, `need: professional`
  - → Counselor Directory

- **A4b.2)** Someone who's been there (peer support)
  - Tags: `audience: self`, `stage: ready`, `need: peer_counselor`
  - → Peer Support Contacts

- **A4b.3)** NOMA directly
  - Tags: `audience: self`, `stage: ready`, `need: noma_direct`
  - → NOMA Contact Form

---

### **A-Q4c: Recovery Connection**
**"What type of peer support fits best?"**

- **A4c.1)** In-person meetings near me
  - Tags: `audience: self`, `stage: recovery`, `need: local_meetings`
  - → Meeting Locator

- **A4c.2)** Online recovery communities
  - Tags: `audience: self`, `stage: recovery`, `need: online_community`
  - → Online Groups

- **A4c.3)** Recovery coaching/mentorship
  - Tags: `audience: self`, `stage: recovery`, `need: coaching`
  - → Coach Directory

- **A4c.4)** Sober activities and events
  - Tags: `audience: self`, `stage: recovery`, `need: sober_social`
  - → Events Calendar

---

## 👨‍👩‍👧 **PATH B: Supporting Someone I Care About**

### **B-Q2: Relationship**
**"Your care and concern matter. What's your relationship to this person?"**

- **B2.1)** I'm their parent
  - → Continue to B-Q3a

- **B2.2)** I'm their partner/spouse
  - → Continue to B-Q3b

- **B2.3)** I'm their adult child
  - → Continue to B-Q3c

- **B2.4)** I'm their friend or other family
  - → Continue to B-Q3d

---

### **B-Q3a: Parent Branch**
**"We understand how hard this is. What's your most pressing need right now?"**

- **B3a.1)** Understanding what's happening
  - Tags: `audience: parent`, `stage: education`, `need: understanding`
  - → Continue to B-Q4a

- **B3a.2)** Getting them into treatment
  - Tags: `audience: parent`, `stage: intervention`, `need: treatment_navigation`
  - → Continue to B-Q4b

- **B3a.3)** Setting healthy boundaries
  - Tags: `audience: parent`, `stage: ongoing`, `need: boundaries`
  - → Family Boundaries Resources

- **B3a.4)** Support for myself
  - Tags: `audience: parent`, `stage: self_care`, `need: parent_support`
  - → Parent Support Groups

---

### **B-Q3b: Partner Branch**
**"You don't have to navigate this alone. What would help most?"**

- **B3b.1)** Crisis intervention resources
  - Tags: `audience: partner`, `stage: crisis`, `need: emergency`
  - → Crisis Resources

- **B3b.2)** Couples/relationship support
  - Tags: `audience: partner`, `stage: relationship`, `need: couples_therapy`
  - → Relationship Resources

- **B3b.3)** Understanding treatment options
  - Tags: `audience: partner`, `stage: exploration`, `need: treatment_info`
  - → Continue to B-Q4b

- **B3b.4)** My own support group
  - Tags: `audience: partner`, `stage: self_care`, `need: partner_support`
  - → Partner Support Groups

---

### **B-Q3c: Adult Child Branch**
**"Supporting a parent with addiction is uniquely challenging. What do you need?"**

- **B3c.1)** How to talk to them about it
  - Tags: `audience: adult_child`, `stage: pre_conversation`, `need: communication`
  - → Communication Guides

- **B3c.2)** Professional intervention help
  - Tags: `audience: adult_child`, `stage: intervention`, `need: interventionist`
  - → Intervention Resources

- **B3c.3)** Support for myself and siblings
  - Tags: `audience: adult_child`, `stage: family`, `need: family_support`
  - → Adult Children Groups

- **B3c.4)** Senior-specific treatment options
  - Tags: `audience: adult_child`, `stage: exploration`, `need: senior_treatment`
  - → Senior Programs

---

### **B-Q3d: Friend/Other Branch**
**"Thank you for caring. How can we help?"**

- **B3d.1)** Learn how to be supportive
  - Tags: `audience: friend`, `stage: education`, `need: support_skills`
  - → Being an Ally Resources

- **B3d.2)** Resources to share with them
  - Tags: `audience: friend`, `stage: helping`, `need: shareable`
  - → Shareable Resources

- **B3d.3)** Warning signs to watch for
  - Tags: `audience: friend`, `stage: education`, `need: warning_signs`
  - → Warning Signs Guide

---

### **B-Q4a: Understanding What's Happening**
**"What would be most helpful to understand?"**

- **B4a.1)** Is this really addiction?
  - Tags: `audience: family`, `stage: questioning`, `need: assessment_tools`
  - → Assessment Resources

- **B4a.2)** Why they can't just stop
  - Tags: `audience: family`, `stage: education`, `need: addiction_science`
  - → Understanding Addiction

- **B4a.3)** What I should and shouldn't do
  - Tags: `audience: family`, `stage: education`, `need: dos_donts`
  - → Family Guidelines

---

### **B-Q4b: Getting Them Treatment**
**"Is your loved one open to getting help?"**

- **B4b.1)** Yes, they're ready
  - Tags: `audience: family`, `stage: action`, `need: treatment_ready`
  - → Continue to B-Q5a

- **B4b.2)** No, they're resistant
  - Tags: `audience: family`, `stage: resistance`, `need: intervention`
  - → Continue to B-Q5b

- **B4b.3)** I'm not sure
  - Tags: `audience: family`, `stage: uncertain`, `need: assessment`
  - → Continue to B-Q5c

---

### **B-Q5a: They're Ready**
**"What level of care do you think they need?"**

- **B5a.1)** Medical detox first
  - Tags: `audience: family`, `stage: action`, `need: detox`
  - → Detox Centers

- **B5a.2)** Residential/inpatient
  - Tags: `audience: family`, `stage: action`, `need: residential`
  - → Treatment Centers

- **B5a.3)** Outpatient while living at home
  - Tags: `audience: family`, `stage: action`, `need: outpatient`
  - → IOP Programs

- **B5a.4)** I need help determining this
  - Tags: `audience: family`, `stage: action`, `need: placement_help`
  - → Treatment Placement Services

---

### **B-Q5b: They're Resistant**
**"When someone isn't ready, you still have options:"**

- **B5b.1)** Learn intervention strategies
  - Tags: `audience: family`, `stage: resistance`, `need: intervention_guide`
  - → Intervention Planning

- **B5b.2)** Set boundaries for my safety
  - Tags: `audience: family`, `stage: resistance`, `need: boundary_setting`
  - → Boundary Resources

- **B5b.3)** Get professional intervention help
  - Tags: `audience: family`, `stage: resistance`, `need: interventionist`
  - → Interventionist Directory

---

### **B-Q5c: Unsure if Ready**
**"Sometimes a conversation can clarify things. Would you like:"**

- **B5c.1)** Tips for starting the conversation
  - Tags: `audience: family`, `stage: uncertain`, `need: conversation_guide`
  - → Conversation Starters

- **B5c.2)** Professional guidance
  - Tags: `audience: family`, `stage: uncertain`, `need: family_counseling`
  - → Family Counselors

- **B5c.3)** To talk with NOMA first
  - Tags: `audience: family`, `stage: uncertain`, `need: noma_guidance`
  - → NOMA Consultation

---

## 💻 JSON Implementation Structure

```json
{
  "quiz": {
    "id": "noma-resource-navigator",
    "version": "1.0",
    "start_node": "Q1",
    "nodes": {
      "Q1": {
        "type": "question",
        "text": "Let's help you find the right resources. Who are you looking to support?",
        "options": [
          {
            "id": "A",
            "text": "Myself",
            "next": "A-Q2",
            "tags": ["audience:self"]
          },
          {
            "id": "B",
            "text": "Someone I care about",
            "next": "B-Q2",
            "tags": ["audience:family"]
          },
          {
            "id": "C",
            "text": "I'm a professional seeking resources",
            "next": "PROFESSIONAL_RESOURCES",
            "tags": ["audience:professional"]
          },
          {
            "id": "D",
            "text": "I'm just learning about addiction",
            "next": "EDUCATION_RESOURCES",
            "tags": ["audience:learner", "stage:education"]
          }
        ]
      },
      "A-Q2": {
        "type": "question",
        "text": "Thank you for reaching out. Where are you in your journey?",
        "options": [
          {
            "id": "A2.1",
            "text": "I'm in crisis and need immediate help",
            "next": "CRISIS_RESOURCES",
            "tags": ["stage:crisis", "need:immediate", "priority:urgent"]
          },
          {
            "id": "A2.2",
            "text": "I'm considering making a change",
            "next": "A-Q3a",
            "tags": ["stage:contemplation"]
          },
          {
            "id": "A2.3",
            "text": "I'm in recovery and looking for support",
            "next": "A-Q3b",
            "tags": ["stage:recovery"]
          },
          {
            "id": "A2.4",
            "text": "I'm not sure where I am right now",
            "next": "A-Q3c",
            "tags": ["stage:questioning"]
          }
        ]
      },
      "A-Q3a": {
        "type": "question",
        "text": "What feels like the right next step for you?",
        "options": [
          {
            "id": "A3a.1",
            "text": "I want to understand my options",
            "next": "A-Q4a",
            "tags": ["stage:exploration", "need:education"]
          },
          {
            "id": "A3a.2",
            "text": "I'm ready to talk to someone",
            "next": "A-Q4b",
            "tags": ["stage:pre-contemplation", "need:counseling"]
          },
          {
            "id": "A3a.3",
            "text": "I need medical help to stop safely",
            "next": "MEDICAL_DETOX_RESOURCES",
            "tags": ["stage:active_use", "need:medical_detox", "priority:high"]
          }
        ]
      }
    },
    "endpoints": {
      "CRISIS_RESOURCES": {
        "type": "result",
        "title": "Immediate Help Available",
        "message": "You don't have to face this alone. Help is available right now.",
        "resources": ["crisis_hotline", "emergency_services", "crisis_chat"],
        "show_call_button": true,
        "fallback_cta": "Call NOMA Now: (205) 555-0100"
      },
      "MEDICAL_DETOX_RESOURCES": {
        "type": "result",
        "title": "Medical Detox Options",
        "message": "Stopping safely is important. Here are medical detox resources.",
        "resources": ["detox_centers", "medical_assessment", "insurance_navigator"],
        "show_safety_warning": true
      }
    },
    "metadata": {
      "resource_filters": {
        "audience": ["self", "family", "parent", "partner", "adult_child", "friend", "professional", "learner"],
        "stage": ["crisis", "active_use", "contemplation", "pre-contemplation", "exploration", "questioning", "recovery", "action", "resistance", "uncertain", "education", "intervention", "ongoing", "self_care"],
        "need": ["immediate", "medical_detox", "detox", "residential", "outpatient", "education", "counseling", "peer_support", "mental_health", "life_skills", "family_support", "assessment", "treatment_ready", "treatment_navigation", "intervention", "boundaries", "support_skills", "virtual", "local_meetings", "online_community", "coaching", "sober_social"]
      },
      "priority_levels": ["urgent", "high", "standard", "low"],
      "always_show": ["noma_contact", "crisis_line"],
      "analytics_events": {
        "quiz_started": true,
        "path_completed": true,
        "resource_clicked": true,
        "contact_initiated": true
      }
    }
  }
}
```

## 🎨 Frontend Implementation Notes

### React Component Structure
```javascript
// QuizController.jsx
const QuizController = () => {
  const [currentNode, setCurrentNode] = useState('Q1');
  const [userPath, setUserPath] = useState([]);
  const [collectedTags, setCollectedTags] = useState({
    audience: [],
    stage: [],
    need: [],
    priority: null
  });
  
  // Load quiz data from wpFieldFlow API
  // Track analytics
  // Render current question or results
};
```

### CSS Classes for Empathetic UI
```css
.quiz-container { 
  /* Soft, welcoming design */
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
}

.crisis-path {
  /* Red accent for urgent */
  border-left: 4px solid #e74c3c;
}

.support-path {
  /* Green accent for recovery */
  border-left: 4px solid #27ae60;
}

.education-path {
  /* Blue accent for learning */
  border-left: 4px solid #3498db;
}
```

## 📊 Resource Matching Algorithm

```javascript
function matchResources(collectedTags, resourceDatabase) {
  // Priority scoring
  const scores = resourceDatabase.map(resource => {
    let score = 0;
    
    // Exact audience match = 10 points
    if (collectedTags.audience.includes(resource.audience)) score += 10;
    
    // Stage match = 8 points
    if (collectedTags.stage.includes(resource.stage)) score += 8;
    
    // Need match = 15 points (highest weight)
    if (collectedTags.need.includes(resource.need)) score += 15;
    
    // Urgency boost
    if (collectedTags.priority === 'urgent' && resource.crisis_ready) score += 20;
    
    return { ...resource, matchScore: score };
  });
  
  // Return top 5 matches, always include NOMA contact
  return scores
    .sort((a, b) => b.matchScore - a.matchScore)
    .slice(0, 5);
}
```

## 🚀 Quick Implementation Checklist

- [ ] Set up quiz data structure in wpFieldFlow
- [ ] Create React component for quiz interface
- [ ] Add CSS for empathetic, accessible design
- [ ] Implement resource matching logic
- [ ] Add analytics tracking for paths
- [ ] Create fallback "Call NOMA" CTAs throughout
- [ ] Test all paths with real resource data
- [ ] Add "Quick Exit" button for safety
- [ ] Implement session storage for quiz progress
- [ ] Create admin view to see popular paths

This structure provides comprehensive coverage while maintaining empathy and avoiding clinical coldness. The conditional logic ensures users get relevant resources without feeling judged or overwhelmed.